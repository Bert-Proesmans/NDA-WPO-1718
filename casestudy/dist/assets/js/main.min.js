function runScript(t){skel.breakpoints({xlarge:"(max-width: 1680px)",large:"(max-width: 1280px)",medium:"(max-width: 980px)",small:"(max-width: 736px)",xsmall:"(max-width: 480px)"}),t(function(){t(window);var e=t("body");e.removeClass("is-loading"),t.get("cookie_statement.html",function(e){t("#main").prepend(e)});var a=t("<script />").attr("id","twitter-wjs").attr("src","https://platform.twitter.com/widgets.js");e.append(a),t("#gmaps_iframe").attr("src","https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2926.34471283061!2d-123.11549306059028!3d45.12367002696269!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x549551d0023a41f7%3A0x6091c5eca3abfef!2sFirefox+logo!5e1!3m2!1sen!2sbe!4v1511776055165"),t("#yt_iframe").attr("src","https://www.youtube.com/embed/EdFDJANJJLs"),t("form").placeholder(),skel.on("+medium -medium",function(){t.prioritize(".important\\28 medium\\29",skel.breakpoint("medium").active)}),t(".scrolly").scrolly(),t(".gallery").each(function(){var e=t(this);e.find(".content");e.each(function(){var e=t(this),a=e.find(".tabs a");e.find(".media");a.on("click",function(e){var i=t(this),n=i.data("tag");e.preventDefault(),a.removeClass("active"),i.addClass("active"),$media.fadeOut("fast").each(function(){var e=t(this);e.hasClass(n)&&e.fadeOut("fast").delay(200).queue(function(t){e.fadeIn(),t()})})})})}),window.location.pathname.endsWith("closeup.html")&&t.get("images.json",function(e){var a=new URLSearchParams(window.location.search).get("closeupID");a||(a="01");var i=e[a];i||(i=e[a=Object.keys(e)[0]]);for(var n=void 0,o=void 0,l=Object.keys(e),r=0;r<l.length;++r)l[r]==a&&(r>0&&(n=l[r-1]),r<l.length-1&&(o=l[r+1]));t(t(".gallery").find(".special").find("h2")[0]).html(""+i.text);var s=t("#contentContainer"),c="";c+='<div class="closeup">',c+='<img src="'+i.image.img+'" alt="" title="'+i.text+'" />',c+="</div>",s.append(c),n&&(t("#prevCloseup").attr("href","closeup.html?closeupID="+n),t("#prevCloseup").show()),o&&(t("#nextCloseup").attr("href","closeup.html?closeupID="+o),t("#nextCloseup").show())}),t("#nav-right a").click(function(e){e.preventDefault();var a=function(e,a){e.find("li").each(function(i){var n=10*a-e[0].offsetWidth;t(this).css("margin-left","-"+n+"px")})},i=function(){var e=t("#nav-left");e.attr("expanding",!0),t("#hamburger").addClass("active");var n=parseFloat(getComputedStyle(document.querySelector("body"))["font-size"]),o=e[0].offsetWidth/n;if(o>10)return e.attr("expanding",!1),void e.attr("expanded",!0);e.css("width",o+.35+"em"),a(e,n),setTimeout(i,3)},n=function(){var e=t("#nav-left");e.attr("expanding",!1),e.attr("expanded",!1);var i=parseFloat(getComputedStyle(document.querySelector("body"))["font-size"]),o=e[0].offsetWidth/i;if(o<1)return e.css("width","0px"),void a(e,i);t("#hamburger").removeClass("active"),e.css("width",o-.35+"em"),a(e,i),setTimeout(n,3)};"true"==t("#nav-left").attr("expanded")?n():"true"!=t("#nav-left").attr("expanding")&&i()})}),window.onscroll=function(){t("#nav").css("padding-top",document.documentElement.scrollTop+"px")}}function loadThumbnails(){window.location.href.indexOf("index.html")>=0&&$.get("images.json",function(t){for(var e=$("#contentContainer"),a=Object.keys(t),i=0;i<a.length;i++){var n=t[a[i]],o=n.image,l=n.thumbnail,r="<div id='thumbnail-"+n.key+"' class='media'><a href='"+o.img+"'><img width='"+o.width+"' height='"+o.height+"' src='data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==' title='"+n.text+'\'></a><a data-poptrox="ignore" class="closeupLink" href="closeup.html?closeupID='+n.key+'"><span class="icon fa-external-link-square"></span></a></div>';e.append(r),loadImageInto("#thumbnail-"+n.key+" > a:first-child",l.img,o.width,o.height,n.text,1e3)}$content=$(".gallery").find(".content"),$content.poptrox({usePopupCaption:!0})})}function loadImageInto(t,e,a,i,n,o){var l=$("<img width='"+a+"' height='"+i+"' />").attr("src",e).attr("title",n);l.on("load",function(){if(this.complete&&void 0!==this.naturalWidth&&0!=this.naturalWidth){var r=$(t);r.length>0&&(r.empty(),r.append(l))}else window.setTimeout(function(){loadImageInto(t,e,a,i,n,2*o)},o)})}!function(t){t.fn.navList=function(){var e=t(this);return $a=e.find("a"),b=[],$a.each(function(){var e=t(this),a=Math.max(0,e.parents("li").length-1),i=e.attr("href"),n=e.attr("target");b.push('<a class="link depth-'+a+'"'+(void 0!==n&&""!=n?' target="'+n+'"':"")+(void 0!==i&&""!=i?' href="'+i+'"':"")+'><span class="indent-'+a+'"></span>'+e.text()+"</a>")}),b.join("")},t.fn.panel=function(e){if(0==this.length)return n;if(this.length>1){for(var a=0;a<this.length;a++)t(this[a]).panel(e);return n}var i,n=t(this),o=t("body"),l=t(window),r=n.attr("id");return"jQuery"!=typeof(i=t.extend({delay:0,hideOnClick:!1,hideOnEscape:!1,hideOnSwipe:!1,resetScroll:!1,resetForms:!1,side:null,target:n,visibleClass:"visible"},e)).target&&(i.target=t(i.target)),n._hide=function(t){i.target.hasClass(i.visibleClass)&&(t&&(t.preventDefault(),t.stopPropagation()),i.target.removeClass(i.visibleClass),window.setTimeout(function(){i.resetScroll&&n.scrollTop(0),i.resetForms&&n.find("form").each(function(){this.reset()})},i.delay))},n.css("-ms-overflow-style","-ms-autohiding-scrollbar").css("-webkit-overflow-scrolling","touch"),i.hideOnClick&&(n.find("a").css("-webkit-tap-highlight-color","rgba(0,0,0,0)"),n.on("click","a",function(e){var a=t(this),o=a.attr("href"),l=a.attr("target");o&&"#"!=o&&""!=o&&o!="#"+r&&(e.preventDefault(),e.stopPropagation(),n._hide(),window.setTimeout(function(){"_blank"==l?window.open(o):window.location.href=o},i.delay+10))})),n.on("touchstart",function(t){n.touchPosX=t.originalEvent.touches[0].pageX,n.touchPosY=t.originalEvent.touches[0].pageY}),n.on("touchmove",function(t){if(null!==n.touchPosX&&null!==n.touchPosY){var e=n.touchPosX-t.originalEvent.touches[0].pageX,a=n.touchPosY-t.originalEvent.touches[0].pageY,o=n.outerHeight(),l=n.get(0).scrollHeight-n.scrollTop();if(i.hideOnSwipe){var r=!1;switch(i.side){case"left":r=a<20&&a>-20&&e>50;break;case"right":r=a<20&&a>-20&&e<-50;break;case"top":r=e<20&&e>-20&&a>50;break;case"bottom":r=e<20&&e>-20&&a<-50}if(r)return n.touchPosX=null,n.touchPosY=null,n._hide(),!1}(n.scrollTop()<0&&a<0||l>o-2&&l<o+2&&a>0)&&(t.preventDefault(),t.stopPropagation())}}),n.on("click touchend touchstart touchmove",function(t){t.stopPropagation()}),n.on("click",'a[href="#'+r+'"]',function(t){t.preventDefault(),t.stopPropagation(),i.target.removeClass(i.visibleClass)}),o.on("click touchend",function(t){n._hide(t)}),o.on("click",'a[href="#'+r+'"]',function(t){t.preventDefault(),t.stopPropagation(),i.target.toggleClass(i.visibleClass)}),i.hideOnEscape&&l.on("keydown",function(t){27==t.keyCode&&n._hide(t)}),n},t.fn.placeholder=function(){if(void 0!==document.createElement("input").placeholder)return t(this);if(0==this.length)return a;if(this.length>1){for(var e=0;e<this.length;e++)t(this[e]).placeholder();return a}var a=t(this);return a.find("input[type=text],textarea").each(function(){var e=t(this);""!=e.val()&&e.val()!=e.attr("placeholder")||e.addClass("polyfill-placeholder").val(e.attr("placeholder"))}).on("blur",function(){var e=t(this);e.attr("name").match(/-polyfill-field$/)||""==e.val()&&e.addClass("polyfill-placeholder").val(e.attr("placeholder"))}).on("focus",function(){var e=t(this);e.attr("name").match(/-polyfill-field$/)||e.val()==e.attr("placeholder")&&e.removeClass("polyfill-placeholder").val("")}),a.find("input[type=password]").each(function(){var e=t(this),a=t(t("<div>").append(e.clone()).remove().html().replace(/type="password"/i,'type="text"').replace(/type=password/i,"type=text"));""!=e.attr("id")&&a.attr("id",e.attr("id")+"-polyfill-field"),""!=e.attr("name")&&a.attr("name",e.attr("name")+"-polyfill-field"),a.addClass("polyfill-placeholder").val(a.attr("placeholder")).insertAfter(e),""==e.val()?e.hide():a.hide(),e.on("blur",function(t){t.preventDefault();var a=e.parent().find("input[name="+e.attr("name")+"-polyfill-field]");""==e.val()&&(e.hide(),a.show())}),a.on("focus",function(t){t.preventDefault();var e=a.parent().find("input[name="+a.attr("name").replace("-polyfill-field","")+"]");a.hide(),e.show().focus()}).on("keypress",function(t){t.preventDefault(),a.val("")})}),a.on("submit",function(){a.find("input[type=text],input[type=password],textarea").each(function(e){var a=t(this);a.attr("name").match(/-polyfill-field$/)&&a.attr("name",""),a.val()==a.attr("placeholder")&&(a.removeClass("polyfill-placeholder"),a.val(""))})}).on("reset",function(e){e.preventDefault(),a.find("select").val(t("option:first").val()),a.find("input,textarea").each(function(){var e,a=t(this);switch(a.removeClass("polyfill-placeholder"),this.type){case"submit":case"reset":break;case"password":a.val(a.attr("defaultValue")),e=a.parent().find("input[name="+a.attr("name")+"-polyfill-field]"),""==a.val()?(a.hide(),e.show()):(a.show(),e.hide());break;case"checkbox":case"radio":a.attr("checked",a.attr("defaultValue"));break;case"text":case"textarea":a.val(a.attr("defaultValue")),""==a.val()&&(a.addClass("polyfill-placeholder"),a.val(a.attr("placeholder")));break;default:a.val(a.attr("defaultValue"))}})}),a},t.prioritize=function(e,a){var i="__prioritize";"jQuery"!=typeof e&&(e=t(e)),e.each(function(){var e,n=t(this),o=n.parent();if(0!=o.length)if(n.data(i)){if(a)return;e=n.data(i),n.insertAfter(e),n.removeData(i)}else{if(!a)return;if(0==(e=n.prev()).length)return;n.prependTo(o),n.data(i,e)}})}}(jQuery),document.addEventListener("DOMContentLoaded",function(){loadThumbnails(jQuery),runScript(jQuery)});